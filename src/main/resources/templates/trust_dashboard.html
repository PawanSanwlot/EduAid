<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Donor List</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/styles.css"> <!-- Link to external CSS file -->
  <style>
      .status-container {
          text-align: center;
          background-color: white;
          padding: 20px;
          border-radius: 10px;
          box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
          width: 89%;
          margin-left: 70px;
          height: 100%;
      }

      .status-option {
          margin: 10px;
          padding: 10px 20px;
          border: 2px solid #007bff;
          display: inline-block;
          cursor: pointer;
          border-radius: 5px;
          color: #007bff;
          font-weight: bold;
          transition: background-color 0.3s ease, color 0.3s ease;
      }

      .status-option:hover {
          background-color: #007bff;
          color: white;
      }

      .case-list {
          margin-top: 20px;
          
          overflow-y: auto; /* Enable scrolling */
          border: 1px solid #ddd; /* Optional: border to define scroll area */
          border-radius: 5px;
      }

      table, th {
          border: 1px solid #ddd;
          border-collapse: collapse;
          width: 100%;
      }

      th, td {
          padding: 12px;
          text-align: left;
      }

      th {
          background-color: #f2f2f2;
          color: #333;
      }

      td {
          border: none; /* Remove horizontal borders */
      }

      td img {
          width: 50px;
          height: 50px;
          border-radius: 50%;
          object-fit: cover;
      }

      .description {
          color: #555;
          font-size: 14px;
      }

      .profile-name {
          font-weight: bold;
          color: #333;
      }

    /* Recent Activity Section Styles */
    .recent-activity {
      background-color: #fff; /* Background color for the section */
      padding: 15px; /* Padding inside the section */
      border-radius: 5px; /* Rounded corners */
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Shadow for the section */
      margin-bottom: 20px; /* Space below the section */
    }

    .recent-activity h5 {
      font-size: 16px; /* Font size for the header */
      margin-bottom: 15px; /* Space below the header */
    }

    .recent-activity ul {
      list-style-type: none; /* Remove default list styling */
      padding: 0; /* Remove default padding */
      margin: 0; /* Remove default margin */
    }

    .recent-activity li {
      margin-bottom: 10px; /* Space between list items */
    }

    .recent-activity a {
      text-decoration: none; /* Remove underline from links */
      color: #333; /* Text color for links */
      display: flex; /* Flexbox for alignment */
      align-items: center; /* Align items vertically */
    }

    .recent-activity a:hover {
      color: #007bff; /* Change color on hover */
    }

    .recent-activity i {
      margin-right: 10px; /* Space between icon and text */
    }

.media-container {
    border: 1px solid #ddd;
    padding: 15px;
    margin-bottom: 20px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
}

.media-details {
    margin-bottom: 15px;
}

.media-file-name {
    font-size: 1.2em;
    margin-bottom: 5px;
}

.media-description {
    color: #666;
    margin-bottom: 5px;
}

.media-uploader {
    color: #999;
}

.media-content {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.video-player {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
}

.download-link {
    display: inline-block;
    margin-top: 10px;
    color: #007bff;
    text-decoration: none;
}

.download-link:hover {
    text-decoration: underline;
}

.save-button,
.like-button {
    margin-top: 10px;
    border: none;
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
    background-color: #007bff;
    color: #fff;
}

.save-button:hover,
.like-button:hover {
    background-color: #0056b3;
}


  </style>
</head>

<body class="light-theme">
  <div class="twitter-wrap">
    <!-- Left Sidebar -->
    <div class="side-left">
      <ul class="menu">
        <li class="menu-item">
          <a class="menu-link" href="/trust_dashboard">
            <i class="fas fa-home"></i>
            <div class="icon-text">Home</div>
          </a>
        </li>
        <li class="menu-item">
          <a class="menu-link" href="/trust_profile">
            <i class="fas fa-user-circle"></i>
            <div class="icon-text">Profile</div>
          </a>
        </li>
        <li class="menu-item">
          <a class="menu-link" href="/trust_donor-list">
            <i class="fas fa-hand-holding-heart"></i>
            <div class="icon-text">Donor List</div>
          </a>
        </li>
        <li class="menu-item">
          <a class="menu-link" href="/trust_trust-list">
            <i class="fas fa-shield-alt"></i>
            <div class="icon-text">Trust List</div>
          </a>
        </li>
        <li class="menu-item">
          <a class="menu-link" href="/trust_volunteer-list">
            <i class="fas fa-hands-helping"></i>
            <div class="icon-text">Volunteer List</div>
          </a>
        </li>
        <li class="menu-item">
          <a class="menu-link" href="/trust_favorites">
            <i class="fas fa-bookmark"></i>
            <div class="icon-text">Favorites</div>
          </a>
        </li>
        <li class="menu-item">
          <a class="menu-link" href="/trust_Cases Status">
            <i class="fas fa-check-circle"></i>
            <div class="icon-text">Cases Status</div>
          </a>
        </li>
        <li class="menu-item">
          <a class="menu-link" href="/trust_report-problem">
            <i class="fas fa-exclamation-triangle"></i>
            <div class="icon-text">Report a Problem</div>
          </a>
        </li>
        <li class="menu-item">
          <a class="menu-link" id="theme-toggle" href="#">
            <i class="fas fa-sun" id="theme-icon"></i>
            <div class="icon-text">Theme</div>
          </a>
        </li>
      </ul>
    </div>

    <!-- Main Content Area -->

    <!-- Main Content Area -->
<main class="side-main">
    <div class="posts-container">
        <!-- Example post structure -->
        <div class="post">
            <div class="post-header">
                <!-- Add any header content here if needed -->
            </div>

            <!-- Media list integration -->
            <div th:if="${mediaList != null}">
                <div th:each="media : ${mediaList}" class="media-container">
                    <div class="media-details">
                        <b>
                            <p class="media-uploader">
                                <span th:text="${media.userEmail}">User Email</span>
                            </p>
                        </b>
                        <p class="media-description" th:text="${media.description}">Description</p>
                    </div>

                    <!-- Video player or download link -->
                    <div class="media-content">
                        <div th:if="${media.fileType.startsWith('video')}">
                            <video class="video-player" controls>
                                <source th:src="@{/media/video/{id}(id=${media.id})}" 
                                        th:type="${media.fileType}" />
                                Your browser does not support the video tag.
                            </video>
                        </div>

                        <div th:if="${!media.fileType.startsWith('video')}">
                            <p>Media format not supported for video player. Download file:</p>
                            <a th:href="@{/media/download/{id}(id=${media.id})}" class="download-link">Download</a>
                        </div>
                    </div>

                    <!-- Post actions (Like, Comment, Share) -->
                    <div class="post-actions">
                        <button><i class="fa fa-thumbs-up"></i> Like</button>
                        <button><i class="fa fa-comment"></i> Comment</button>
                        <button><i class="fa fa-share"></i> Share</button>
                    </div>

                    <!-- Save button -->
                    <button class="save-button" data-media-id="[[${media.id}]]" onclick="saveMedia(this)">
                        Save
                    </button>
                </div>
            </div>

            <!-- Post image if no media available -->
            <div th:if="${mediaList == null}" class="post-media">
                <img src="/imgs/blog-1.jpg" alt="Post Image">
            </div>
        </div>

        <!-- Add more posts here if needed -->
    </div>
</main>

     <!-- Right Sidebar -->
    <aside class="side-right">
      <header class="header-section">
        <div class="search-form">
          <input type="text" placeholder="Search...">
          <i class="fa fa-search"></i>
          
          <form action="/logout" method="post">
    <button type="submit"><i class="fa fa-power-off"></i></button>
</form>

        </div>
      </header>

      <!-- Carousel Section -->
      <div class="carousel-wrapper">
        <div class="carousel-container">
          <div class="carousel">
            <div class="image-one"></div>
            <div class="image-two"></div>
            <div class="image-three"></div>
          </div>
        </div>
      </div>

      <!-- Recent Activity Section -->
      <div class="recent-activity">
        <h5>Recent Activity</h5>
        <ul>
          <li><a href="#"><i class="fa fa-certificate" style="color: green;"></i> User1 liked your post</a></li>
          <li><a href="#"><i class="fa fa-certificate" style="color: green;"></i> User2 commented on your photo</a></li>
          <li><a href="#"><i class="fa fa-certificate" style="color: green;"></i> User3 followed you</a></li>
          <li><a href="#"><i class="fa fa-certificate" style="color: green;"></i> User4 shared your tweet</a></li>
        </ul>
      </div>
    </aside>

  <!-- Scripts -->
  <script>
    // Toggle between light and dark themes
    document.getElementById('theme-toggle').addEventListener('click', function (e) {
      e.preventDefault();
      document.body.classList.toggle('dark-theme');
      const icon = document.getElementById('theme-icon');
      if (document.body.classList.contains('dark-theme')) {
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
      } else {
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
      }
    });
      
      
      
      
      
      document.addEventListener('DOMContentLoaded', function() {
          const videoPlayers = document.querySelectorAll('.video-player');
          let currentPlaying = null;

          function playVideo(video) {
              if (currentPlaying && currentPlaying !== video) {
                  currentPlaying.pause();
              }
              currentPlaying = video;
              video.play();
          }

          function onScroll() {
              videoPlayers.forEach(video => {
                  const rect = video.getBoundingClientRect();
                  if (rect.top >= 0 && rect.bottom <= window.innerHeight) {
                      if (video.paused) {
                          playVideo(video);
                      }
                  } else if (!video.paused) {
                      video.pause();
                  }
              });
          }

          window.addEventListener('scroll', onScroll);
          onScroll(); // Initial check
      });
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>
